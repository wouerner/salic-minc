<?php $currentUri = Zend_Controller_Front::getInstance()->getRequest()->getRequestUri(); ?>

<li class="<?php echo($this->menu) ? 'no-padding' : 'bold'; ?>">
    <?php if( !$this->menu ) : ?>
        <a id="<?php echo $this->id; ?>"
           class="<?php echo ($currentUri == $this->url) ? 'active':''?>"
           href="<?php echo($this->url) ? $this->url : 'javascript:void(0);'; ?>"
           title="Ir para <?php echo($this->label); ?>">
            <?= !empty($this->icon) ? '<i class="material-icons left">' . $this->icon . '</i>' : ''; ?>
            <?php echo trim($this->label); ?></a>
    <?php else : ?>
        <ul class="collapsible collapsible-accordion">
            <li class="bold">
                <a id="<?php echo $this->id; ?>"
                   class="collapsible-header waves-effect waves-cyan <?php echo (in_array($currentUri, array_column($this->menu,'url'))) ? 'active':''?>"
                   href="<?php echo($this->url) ? $this->url : 'javascript:void(0);'; ?>"><?php echo $this->label; ?>
                    <?= !empty($this->icon) ? '<i class="material-icons left">' . $this->icon . '</i>' : ''; ?>
                </a>
                <div class="collapsible-body">
                    <ul>
                        <?php echo(isset($this->menu)) ? $this->partialLoop('inc/subitem.phtml', $this->menu) : ''; ?>
                    </ul>
                </div>
            </li>
        </ul>
    <?php endif; ?>
</li>