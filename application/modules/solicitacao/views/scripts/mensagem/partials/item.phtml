<?php $currentUri = Zend_Controller_Front::getInstance()->getRequest()->getParams();  ?>
<?php $link = !empty($this->link) ? $this->url($this->link) : ''; ?>

<li class="<?= ($this->menu) ? 'no-padding' : 'bold'; ?>">
    <?php if (!$this->menu) : ?>
        <a id="<?= $this->id; ?>"
           class="<?= ($currentUri == $link) ? 'active' : '' ?>"
           href="<?= ($link) ? $link : 'javascript:void(0);'; ?>"
           title="Ir para <?= ($this->label); ?>"><?= trim($this->label); ?></a>
    <?php else : ?>
        <ul class="collapsible collapsible-accordion">
            <li class="bold">
                <a id="<?= $this->id; ?>"
                   class="collapsible-header waves-effect waves-cyan <?= (in_array($currentUri, array_column($this->menu, 'link'))) ? 'active' : '' ?>"
                   href="<?= ($link) ? $link : 'javascript:void(0);'; ?>"><?= $this->label; ?>
                    <?php if (!empty($this->icon)) : ?>
                        <i class="mdi-action-view-carousel"></i>
                    <?php endif; ?>
                </a>
                <div class="collapsible-body">
                    <ul>
                        <?= isset($this->menu) ? $this->partialLoop('/mensagem/partials/subitem.phtml', 'solicitacao', $this->menu) : ''; ?>
                    </ul>
                </div>
            </li>
        </ul>
    <?php endif; ?>
</li>