<?php
//@todo melhorar forma de montar menus sem esse monte de array.
$arrMenuProponente = array();
// Proponente
// ========== INICIO MENU ADMINISTRATIVO ==========
//<li class="noOverHere"><a href="$this->url(array('controller' => 'principalproponente', 'action' => ''), '', true); " class="home" title="Início"><span>Início</span></a></li>
$arrMenuProponente['administrativo'] = array(
    'id' => 'administrativo',
    'label' => 'Administrativo',
    'title' => 'Ir para Administrativo',
    'menu' => array(),
    'grupo' => array(),
);
$arrMenuProponente['administrativo']['menu'][] = array('label' => 'Cadastrar Proponente', 'title' => 'Ir para Manter Agentes',
    'url' => $this->url(array('module' => 'agente', 'controller' => 'agentes', 'action' => 'incluiragente'), '', true),
    'grupo' => array()
);
if ($this->idAgenteKeyLog != 0) {
    $arrMenuProponente['administrativo']['menu'][] = array('label' => 'Gerenciar respons&aacute;veis', 'title' => 'Ir para Aceitar vinculo',
        'url' => $this->url(array('module' => 'proposta', 'controller' => 'manterpropostaincentivofiscal', 'action' => 'consultarresponsaveis'), '', true, '', true),
        'grupo' => array()
    );
}
$arrMenuProponente['administrativo']['menu'][] = array('label' => 'Procura&ccedil;&atilde;o', 'title' => 'Ir para Procura&ccedil;&atilde;o',
    'url' => $this->url(array('controller' => 'procuracao', 'action' => 'index'), '', true),
    'grupo' => array()
);
// ========== FIM MENU ADMINISTRATIVO ==========
// ========== INICIO MENU PROPOSTA ==========
$arrMenuProponente['proposta'] = array(
    'id' => 'proposta',
    'label' => 'Proposta',
    'title' => 'Ir para Proposta',
    'menu' => array(),
    'grupo' => array(),
);
$arrMenuProponente['proposta']['menu'][] = array('label' => 'Listar', 'title' => 'Ir para Manter Proposta por Incentivo Fiscal',
    'url' => $this->url(array('module' => 'proposta', 'controller' => 'manterpropostaincentivofiscal', 'action' => 'listarproposta'), '', true),
    'grupo' => array()
);

$arrMenuProponente['proposta']['menu'][] = [
    'label' => 'Arquivadas',
    'title' => 'Propostas Arquivadas',
    'url' => $this->url(array('module' => 'proposta', 'controller' => 'manterpropostaincentivofiscal', 'action' => 'listar-propostas-arquivadas'), '', true),
    'grupo' => array()
];
// ========== FIM MENU PROPOSTA ==========
// ========== INICIO MENU PROJETO ==========
$arrMenuProponente['projeto'] = array(
    'id' => 'projeto',
    'label' => 'Projeto',
    'title' => 'Ir para Projetos',
    'menu' => array(),
    'grupo' => array(),
);
$arrMenuProponente['projeto']['menu'][] = array('label' => 'Listar Projetos', 'title' => 'Ir para Listar Projetos',
    'url' => $this->url(array('module' => 'projeto', 'controller' => 'index', 'action' => 'listar'), '', true),
    'grupo' => array()
);
$arrMenuProponente['solicitacoes'] = array(
    'id' => 'solicitacoes',
    'label' => 'Solicita&ccedil;&otilde;es',
    'title' => 'Ir para Solicitacoes',
    'menu' => array(),
    'grupo' => []
);
$arrMenuProponente['solicitacoes']['menu'][] = [
    'label' => 'Listar Solicita&ccedil;&otilde;es', 'title' => 'Ir para Listar Solicita&ccedil;&otilde;es',
    'url' => $this->url(['module' => 'solicitacao', 'controller' => 'mensagem', 'action' => 'index'], null, true),
    'grupo' => []
];
// ========== FIM MENU PROJETO ==========
// ========== INICIO MENU PROTOCOLO ==========
$arrMenuProponente['usuario'] = array(
    'id' => 'usuario',
    'label' => 'Usu&aacute;rio',
    'title' => 'Ir para Usu&aacute;rio',
    'menu' => array(),
    'grupo' => array(),
);
$arrMenuProponente['usuario']['menu'][] = array('label' => 'Alterar Senha', 'title' => 'Ir para Alterar Senha',
    'url' => $this->url(array('module' => 'autenticacao', 'controller' => 'index', 'action' => 'alterarsenha'), '', true),
    'grupo' => array()
);
$arrMenuProponente['usuario']['menu'][] = array('label' => 'Alterar Dados', 'title' => 'Ir para Alterar Dados',
    'url' => $this->url(array('module' => 'autenticacao', 'controller' => 'index', 'action' => 'alterardados'), '', true),
    'grupo' => array()
);

$jwt = new Zend_Session_Namespace('jwt');
if (Zend_Registry::get("config")->toArray()['nfe']) {

    $arrMenuProponente['nfe'] = [
        'id' => 'nfe',
        'label' => 'Notas Fiscais',
        'title' => 'Ir para Notas Fiscais',
        'menu' => [],
        'grupo' => []
    ];

    $arrMenuProponente['nfe']['menu'][] =
        [
            'label' => 'Vizualizar Notas',
            'title' => 'Vizualizar Notas',
            'url' => Zend_Registry::get("config")->toArray()['url']['hostnfe']. '/nfe/' . $jwt->token,
            'grupo' => []
        ];
}
// ========== FIM MENU PROTOCOLO ==========

// ========== INICIO MENU MANUAIS ==========
include_once(APPLICATION_PATH . '/layouts/scripts/partials/menu/menu-manuais.phtml');
// ========== FIM MENU MANUAIS ==========

// Default
// Analise
include_once(APPLICATION_PATH . '/layouts/scripts/partials/menu/menu-analise.phtml');
// Analise

// ========== INICIO MENU ACOMPANHAMENTO ==========
$arrMenu['assinatura'] = array(
    'id' => 'assinatura',
    'label' => 'Assinatura',
    'title' => 'Ir para Assinatura',
    'menu' => array(),
//    'grupo' => array(90,91,92,93,96,97,Autenticacao_Model_Grupos::COORDENADOR_ANALISE,104,110,114,115,Autenticacao_Model_Grupos::PRESIDENTE_CNIC,Autenticacao_Model_Grupos::COORDENADOR_CNIC,121,122,123,124,125,126,Autenticacao_Model_Grupos::COORDENADOR_ATENDIMENTO,Autenticacao_Model_Grupos::TECNICO_PORTARIA,131,132,135,138,139,148,151),
);
$arrMenu['assinatura']['menu'][] = array(
//    'grupo' => array(114,130),
    'url' => $this->url(
        array(
            'module' => 'assinatura',
            'controller' => 'index',
            'action' => 'gerenciar-assinaturas'
        ), '', true),
    'title' => 'Ir para Gerenciamento de assinaturas',
    'label' => 'Gerenciar Assinaturas'
);

$arrMenu['assinatura']['menu'][] = array(
    'url' => $this->url(
        array(
            'module' => 'assinatura',
            'controller' => 'index',
            'action' => 'visualizar-assinaturas'
        ), '', true),
    'title' => 'Ir para Visualização de Assinaturas',
    'label' => 'Visualizar Assinaturas'
);

$arrMenu['assinatura']['menu'][] = array(
    'grupo' => [
        Autenticacao_Model_Grupos::PARECERISTA,
        Autenticacao_Model_Grupos::COORDENADOR_DE_PARECER,
        Autenticacao_Model_Grupos::DIRETOR_DEPARTAMENTO,
        Autenticacao_Model_Grupos::PRESIDENTE_DE_VINCULADA,
        Autenticacao_Model_Grupos::COORDENADOR_GERAL_ACOMPANHAMENTO,
        Autenticacao_Model_Grupos::TECNICO_ACOMPANHAMENTO,
        Autenticacao_Model_Grupos::COORDENADOR_ACOMPANHAMENTO,
        Autenticacao_Model_Grupos::SECRETARIO,
    ],
    'url' => $this->url(
        array(
            'module' => 'readequacao',
            'controller' => 'readequacao-assinatura',
            'action' => 'gerenciar-assinaturas'
        ), '', true),
    'title' => 'Ir para Readequa&ccedil;&atilde;o - Gerenciar Assinaturas',
    'label' => 'Gerenciar Assinaturas - Readequa&ccedil;&atilde;o'
);

$arrMenu['assinatura']['menu'][] = array(
    'url' => $this->url(
        array(
            'module' => 'assinatura',
            'controller' => 'documentos-devolvidos',
            'action' => 'listar'
        ), '', true),
    'title' => 'Ir para Listar documentos devolvidos',
    'label' => 'Listar Documentos Devolvidos'
);

$arrMenu['assinatura']['menu'][] = array(
    'grupo' => array(97),
    'url' => $this->url(
        array(
            'module' => 'assinatura',
            'controller' => 'ato-administrativo',
            'action' => 'gerir-atos-administrativos'
        ), '', true),
    'title' => 'Ir para Gerir Atos Administrativos',
    'label' => 'Gerir Atos Administrativos'
);

// ========== INICIO MENU ATENDIMENTO ==========
$arrMenu['atendimento'] = array(
    'id' => 'atendimento',
    'label' => 'Atendimento',
    'title' => 'Ir para Assinatura',
    'menu' => array(),
    'grupo' => [Autenticacao_Model_Grupos::TECNICO_DE_ATENDIMENTO]
);

$arrMenu['atendimento']['menu'][] = array(
    'url' => $this->url(
        array(
            'module' => 'solicitacao',
            'controller' => 'mensagem',
            'action' => 'index'
        ), '', true),
    'title' => 'Ir para Solicita&ccedil;&otilde;es',
    'label' => 'Solicita&ccedil;&otilde;es Proponente',
    'grupo' => [Autenticacao_Model_Grupos::TECNICO_DE_ATENDIMENTO]
);

$arrMenu['acompanhamento'] = array(
    'id' => 'acompanhamento',
    'label' => 'Acompanhamento',
    'title' => 'Ir para Acompanhamento',
    'menu' => array(),
    'grupo' => array(94, 121, 122, 123, 124, 125, 126, 129, 134, 135, 137, 138, 139, 148, 151),
);
$arrMenu['acompanhamento']['menu'][] = array('label' => 'CheckList para Publica&ccedil;&atilde;o', 'title' => 'Ir para CheckList de Publica&ccedil;&atilde;o',
    'url' => $this->url(array('controller' => 'checklistpublicacao', 'action' => 'listas'), '', true),
    'grupo' => array(Autenticacao_Model_Grupos::COORDENADOR_ANALISE, 110, 121, 122, 123, Autenticacao_Model_Grupos::COORDENADOR_ATENDIMENTO)
);
$arrMenu['acompanhamento']['menu'][] = array('label' => 'Movimenta&ccedil;&atilde;o Banc&aacute;ria', 'title' => 'Ir para Movimenta&ccedil;&atilde;o Banc&aacute;ria',
    'url' => $this->url(array('controller' => 'movimentacaodeconta', 'action' => 'resultado-extrato-de-conta-captacao'), '', true),
    'grupo' => array(272, 166, 121, 122, 123, 129, 148, 151) // restringe ao órgao SACAV && CAP
);
//                        =======  TEC. DE ACOMPANHAMENTO / COORD. ADMISSIBLIDADE / TECNICO ADMISSBILIDADE ============
$arrMenu['acompanhamento']['menu'][] = array('label' => 'Certid&otilde;es Negativas', 'title' => 'Ir para Certid&otilde;es Negativas',
    'url' => $this->url(array('module' => 'default', 'controller' => 'manterregularidadeproponente', 'action' => 'index')),
    'grupo' => array(108, 121, 122, 123, 124, 125, 134, 135, 138, 139)
);
$arrMenu['acompanhamento']['menu'][] = array('label' => 'Analisar Relat&oacute;rios Trimestrais', 'title' => 'Analisar Relat&oacute;rios Trimestrais',
    'url' => $this->url(array('controller' => 'analisarexecucaofisica', 'action' => 'projetos'), '', true),
    'grupo' => array(122, 123)
);
$arrMenu['acompanhamento']['menu'][] = array('label' => 'Verificar Readequa&ccedil;&atilde;o de Projeto', 'title' => 'Verificar Readequa&ccedil;&atilde;o de Projetos',
    'url' => $this->url(array('controller' => 'verificarreadequacaodeprojeto', 'action' => 'verificarreadequacaodeprojetocoordparecerista'), '', true),
    'grupo' => array(93)
);
$arrMenu['acompanhamento']['menu'][] = array('label' => 'Enviar Pareceres para Pagamento', 'title' => 'Enviar Pareceres para Pagamento',
    'url' => $this->url(array('controller' => 'gerenciarparecer', 'action' => 'enviarpagamento'), '', true),
    'grupo' => array(93)
);
/*if ($this->grupoAtivo == 94) : ?>
<li><a href="<?php echo $this->url(array('controller' => 'parecerista', 'action' => 'confirmacao-pagamento-parecerista'), '', true); ?>" title="Meus pagamentos">Meus Pagamentos</a></li>
<li><a href="<?php echo $this->url(array('controller' => 'verificarreadequacaodeprojeto', 'action' => 'verificarreadequacaodeprojetoparecerista'), '', true); ?>" title="Verificar Readequacao de Projetos">Verificar Readequacao de Projeto</a></li>
<?php endif;*/
$arrMenu['acompanhamento']['menu'][] = array(
    'grupo' => array(94),
    'url' => $this->url(array('controller' => 'parecerista', 'action' => 'confirmacao-pagamento-parecerista'), '', true),
    'title' => 'Meus pagamentos',
    'label' => 'Meus Pagamentos'
);
$arrMenu['acompanhamento']['menu'][] = array(
    'grupo' => array(121, 129),
    'url' => $this->url(array('controller' => 'analisarexecucaofisicatecnico', 'action' => 'index'), '', true),
    'title' => 'Analisar Relat&oacute;rios Trimestrais',
    'label' => 'Analisar Relat&oacute;rios Trimestrais'
);

$arrMenu['acompanhamento']['menu'][] = array(
    'grupo' => array(
        Autenticacao_Model_Grupos::COORDENADOR_ACOMPANHAMENTO,
        Autenticacao_Model_Grupos::TECNICO_ACOMPANHAMENTO,
        Autenticacao_Model_Grupos::COORDENADOR_FISCALIZACAO,
        Autenticacao_Model_Grupos::TECNICO_FISCALIZACAO
    ),
    'url' => $this->url(array('module' => 'fiscalizacao', 'controller' => 'pesquisarprojetofiscalizacao', 'action' => 'grid'), '', true),
    'title' => 'Ir para Fiscalizar Projeto',
    'label' => 'Fiscalizar Projeto'
);

$arrMenu['acompanhamento']['menu'][] = array(
    'grupo' => array(137),
    'url' => $this->url(array('controller' => 'parecerista', 'action' => 'configurar-pagamento-parecerista'), '', true),
    'title' => 'Ir para Pagamento de parecerista',
    'label' => 'Pagamento de Pareceristas'
);
$arrMenu['acompanhamento']['menu'][] = array(
    'grupo' => array(137),
    'url' => $this->url(array('controller' => 'gerenciarparecer', 'action' => 'enviarpagamento'), '', true),
    'title' => 'Ir para Gerar Memorando',
    'label' => 'Gerar memorando de pagamento'
);
//======= COORD. DE ACOMPANHAMENTO / COORD. GERAL DE ACOMPANHAMENTO / TEC. DE ACOMPANHAMENTO ============
$arrMenu['acompanhamento']['menu'][] = array(
    'grupo' => array(121, 122, 123),
    'url' => $this->url(array('controller' => 'gerartermodeaprovacao', 'action' => 'index'), '', true),
    'title' => 'Ir para Gerenciar Termo de Decis&atilde;o',
    'label' => 'Gerar Termo de Decis&atilde;o'
);
$arrMenu['acompanhamento']['menu'][] = array(
    'grupo' => array(121),
    'url' => $this->url(array('controller' => 'marcas', 'action' => 'index'), '', true),
    'title' => 'Processar Marcas',
    'label' => 'Processar Marcas'
);
$arrMenu['acompanhamento']['menu'][] = array(
    'grupo' => array(121, 122),
    'url' => $this->url(array('controller' => 'avaliarpedidoprorrogacao', 'action' => 'index'), '', true),
    'title' => 'Avaliar Pedido de Prorroga&ccedil;&atilde;o',
    'label' => 'Avaliar Pedido de Prorroga&ccedil;&atilde;o'
);
$arrMenu['acompanhamento']['menu'][] = array(
    'grupo' => array(122, 123, 148, 151),
    'url' => $this->url(array('module' => 'readequacao', 'controller' => 'readequacoes', 'action' => 'painel'), '', true),
    'title' => 'Readequa&ccedil;&otilde;es',
    'label' => 'Readequa&ccedil;&otilde;es'
);
$arrMenu['acompanhamento']['menu'][] = array(
    'grupo' => array(93, 121),
    'url' => $this->url(array('module' => 'readequacao', 'controller' => 'readequacoes', 'action' => 'painel-readequacoes'), '', true),
    'title' => 'Avaliar Readequa&ccedil;&otilde;es',
    'label' => 'Avaliar Readequa&ccedil;&otilde;es'
);

$arrMenu['acompanhamento']['menu'][] = array(
    'grupo' => array(
        147
    , 148
    , 149
    , 150
    , 151
    , 152
    ),
    'url' => $this->url(array(
        'module' => 'admissibilidade',
        'controller' => 'enquadramento-assinatura',
        'action' => 'gerenciar-assinaturas'
    ), '', true),
    'title' => 'Assinatura',
    'label' => 'Assinatura'
);
// ========== FIM MENU ACOMPANHAMENTO ==========
// ========== INICIO MENU Administrativo =======
$arrMenu['administrativo'] = array(
    'id' => 'administrativo',
    'label' => 'Administrativo',
    'title' => 'Ir para Administrativo',
    'menu' => array(),
    'grupo' => [
        93,
        94,
        97,
        Autenticacao_Model_Grupos::COORDENADOR_ANALISE,
        118,
        Autenticacao_Model_Grupos::COORDENADOR_CNIC,
        121,
        122,
        123,
        137,
    ],
);
$arrMenu['administrativo']['menu'][] = array('label' => 'Manter Agentes', 'title' => 'Ir para Manter Agentes',
    'url' => $this->url(array('module' => 'agente', 'controller' => 'agentes', 'action' => 'agentes'), '', true),
    'grupo' => array(97, Autenticacao_Model_Grupos::COORDENADOR_CNIC, 121, 122, 123)
);
$arrMenu['administrativo']['menu'][] = array('label' => 'Gerenciar meus dados', 'title' => 'Ir para Gerenciar meus dados',
    'url' => $this->url(array('module' => 'agente', 'controller' => 'agentes', 'action' => 'agentes'), '', true),
    'grupo' => array(94, 118)
);
$arrMenu['administrativo']['menu'][] = array('label' => 'Desvincular Agentes', 'title' => 'Ir para Desvincular Agentes',
    'url' => $this->url(array('controller' => 'desvincularagentes', 'action' => 'index'), '', true, '', true),
    'grupo' => array(Autenticacao_Model_Grupos::COORDENADOR_ANALISE, Autenticacao_Model_Grupos::COORDENADOR_CNIC, 122)
);
$arrMenu['administrativo']['menu'][] = array('label' => 'Analisar Procura&ccedil;&atilde;o', 'title' => 'Ir para Analisar Procura&ccedil;&atilde;o',
    'url' => $this->url(array('controller' => 'procuracao', 'action' => 'analisar'), '', true, '', true),
    'grupo' => array(122, Autenticacao_Model_Grupos::COORDENADOR_ANALISE)
);
$arrMenu['administrativo']['menu'][] = array('label' => 'Manter Parecerista', 'title' => 'Ir para Manter Parecerista',
    'url' => $this->url(array('module' => 'agente', 'controller' => 'agentes', 'action' => 'painelcredenciamento'), '', true),
    'grupo' => array(137, 93)
);
$arrMenu['administrativo']['menu'][] = array('label' => 'Gerenciar assinantes', 'title' => 'Ir para Gerenciar assinantes',
    'url' => $this->url(array('controller' => 'parecerista', 'action' => 'gerenciar-assinantes'), '', true),
    'grupo' => array(137)
);
$arrMenu['administrativo']['menu'][] = array('label' => 'Manter Termo de Decis&atilde;o', 'title' => 'Ir para Manter Termo de Decis&atilde;o',
    'url' => $this->url(array('controller' => 'mantertermodecisao', 'action' => 'index'), '', true),
    'grupo' => array(97)
);
$arrMenu['administrativo']['menu'][] = array('label' => 'Manter Secret&aacute;rio', 'title' => 'Ir para Manter Secret&aacute;rio',
    'url' => $this->url(array('controller' => 'mantersecretarioorgao', 'action' => 'index'), '', true),
    'grupo' => array(97)
);
$arrMenu['administrativo']['menu'][] = array('label' => 'Comunicados', 'title' => 'Ir para Comunicados',
    'url' => $this->url(array('controller' => 'comunicados', 'action' => 'index'), '', true),
    'grupo' => array(97)
);
$arrMenu['administrativo']['menu'][] = array('label' => 'Analisar Solicita&ccedil;&atilde;o de Item', 'title' => 'Ir para Analisar Solicita&ccedil;&atilde;o de Item',
    'url' => $this->url(array('module' => 'proposta', 'controller' => 'analisarsituacaoitem', 'action' => 'index'), '', true),
    'grupo' => array(97)
);
// ========== INICIO MENU PROTOCOLO ==========
$arrMenu['protocolo'] = array(
    'id' => 'protocolo',
    'title' => 'Ir para Protocolo',
    'label' => 'Protocolo',
    'menu' => array(),
    'grupo' => array(90, 91, 97, 104, 109, 115),
);
$arrMenu['protocolo']['menu'][] = array(
    'grupo' => array(91, 97, 104, 109, 115),
    'url' => $this->url(array('controller' => 'tramitarprojetos', 'action' => 'despacharprojetos'), '', true),
    'title' => 'Ir para Tramitar Projetos',
    'label' => 'Tramitar Projetos'
);
$arrMenu['protocolo']['menu'][] = array(
    'grupo' => array(90, 91, 97, 104, 109, 115),
    'url' => $this->url(array('controller' => 'tramitardocumentos', 'action' => 'index'), '', true),
    'title' => 'Ir para Tramitar Documentos',
    'label' => 'Tramitar Documentos'
);
// ========== FIM MENU PROTOCOLO ==========
//
//// ========== INICIO MENU MANUTENCAO ==========
include_once(APPLICATION_PATH . '/layouts/scripts/partials/menu/menu-manutencao.phtml');
//// ========== FIM MENU MANUTECAO ==========

// ========== INICIO MENU ADMISSIBILIDADE ==========
$arrMenu['admissibilidade'] = array(
    'id' => 'admissibilidade',
    'label' => 'Admissibilidade',
    'title' => 'Ir para Admissibilidade',
    'menu' => array(),
    'grupo' => [
        92
        , Autenticacao_Model_Grupos::GESTOR_SALIC
        , Autenticacao_Model_Grupos::COORDENADOR_ADMISSIBILIDADE
        , 147
        , 148
        , 149
        , 150
        , 151
        , 152
        , Autenticacao_Model_Grupos::COMPONENTE_COMISSAO
        , Autenticacao_Model_Grupos::COORDENADOR_GERAL_ADMISSIBILIDADE
    ],
);
$arrMenu['admissibilidade']['menu'][] = array(
    'grupo' => [
        Autenticacao_Model_Grupos::TECNICO_ADMISSIBILIDADE,
        Autenticacao_Model_Grupos::GESTOR_SALIC,
        Autenticacao_Model_Grupos::COORDENADOR_ADMISSIBILIDADE,
        Autenticacao_Model_Grupos::COMPONENTE_COMISSAO,
        Autenticacao_Model_Grupos::COORDENADOR_GERAL_ADMISSIBILIDADE,
    ],
    'url' => $this->url(
        [
            'module' => 'admissibilidade',
            'controller' => 'admissibilidade',
            'action' => 'listar-propostas'
        ],
        '',
        true
    ),
    'title' => 'Avalia&ccedil;&atilde;o',
    'label' => 'Avalia&ccedil;&atilde;o'
);

$arrMenu['admissibilidade']['menu'][] = array(
    'grupo' => array(92, 97, 131),
    'url' => $this->url(array('module' => 'admissibilidade', 'controller' => 'admissibilidade', 'action' => 'listar-solicitacoes-desarquivamento'), '', true),
    'title' => 'Desarquivamento',
    'label' => 'Desarquivamento'
);

$arrMenu['admissibilidade']['menu'][] = array(
    'grupo' => [
        Autenticacao_Model_Grupos::TECNICO_ADMISSIBILIDADE,
        Autenticacao_Model_Grupos::GESTOR_SALIC,
        Autenticacao_Model_Grupos::COORDENADOR_ADMISSIBILIDADE
    ],
    'url' => $this->url(array('module' => 'default', 'controller' => 'manterregularidadeproponente', 'action' => 'index')),
    'title' => 'Ir para Certid&otilde;es Negativas',
    'label' => 'Certid&otilde;es Negativas'
);

$arrMenu['admissibilidade']['menu'][] = array(
    'grupo' => array(92, 131),
    'url' => $this->url(array('module' => 'admissibilidade', 'controller' => 'enquadramento', 'action' => 'gerenciar-enquadramento')),
    'title' => 'Ir para Enquadramento',
    'label' => 'Enquadramento'
);
$arrMenu['admissibilidade']['menu'][] = array(
    'grupo' => array(92, 97, 131),
    'url' => $this->url(array('controller' => 'recursos', 'action' => 'recurso-enquadramento'), '', true),
    'title' => 'Ir para Recurso',
    'label' => 'Recurso'
);

$arrMenu['admissibilidade']['menu'][] = array(
    'grupo' => array(92, 131, 147, 149),
    'url' => $this->url(array('module' => 'admissibilidade', 'controller' => 'enquadramento', 'action' => 'encaminhar-assinatura')),
    'title' => 'Ir para Encaminhar para assinatura',
    'label' => 'Encaminhar para assinatura'
);

$arrMenu['admissibilidade']['menu'][] = array(
    'grupo' => array(92, 131),
    'url' => $this->url(array('module' => 'admissibilidade', 'controller' => 'admissibilidade', 'action' => 'desarquivarpropostas')),
    'title' => 'Desarquivar Proposta',
    'label' => 'Desarquivar Proposta'
);

$arrMenu['admissibilidade']['menu'][] = [
    'grupo' => [
        Autenticacao_Model_Grupos::TECNICO_ADMISSIBILIDADE,
        Autenticacao_Model_Grupos::GESTOR_SALIC,
        Autenticacao_Model_Grupos::COORDENADOR_ADMISSIBILIDADE,
        Autenticacao_Model_Grupos::COORDENADOR_GERAL_ADMISSIBILIDADE,
    ],
    'url' => $this->url(
        [
            'module' => 'admissibilidade',
            'controller' => 'admissibilidade',
            'action' => 'alterarunianalisepropostaconsulta'
        ],
        '',
        true
    ),
    'title' => 'Ir para Alterar Unidade da an&aacute;lise da Proposta',
    'label' => 'Alterar Uni. da an&aacute;lise da Proposta'
];

$arrMenu['admissibilidade']['menu'][] = array(
    'grupo' => array(97, 131, 148, 151),
    'url' => $this->url(array('module' => 'admissibilidade', 'controller' => 'admissibilidade', 'action' => 'redistribuiranalise')),
    'title' => 'Redistribuir An&aacute;lise',
    'label' => 'Redistribuir An&aacute;lise'
);

$arrMenu['admissibilidade']['menu'][] = array(
    'grupo' => array(97, 131, 148, 151),
    'url' => $this->url(array('module' => 'admissibilidade', 'controller' => 'admissibilidade', 'action' => 'redistribuiranalise')),
    'title' => 'Gerenciar Propostas',
    'label' => 'Gerenciar Propostas'
);

$arrMenu['admissibilidade']['menu'][] = array(
    'grupo' => array(97, 131, 148, 151),
    'url' => $this->url(array('module' => 'admissibilidade', 'controller' => 'admissibilidade', 'action' => 'gerenciaranalistas')),
    'title' => 'Gerenciar Analistas',
    'label' => 'Gerenciar Analistas'
);

$arrMenu['admissibilidade']['menu'][] = array(
    'grupo' => array(
        147
    , 148
    , 149
    , 150
    , 151
    , 152
    ),
    'url' => $this->url(
        array(
            'module' => 'admissibilidade',
            'controller' => 'enquadramento-assinatura',
            'action' => 'gerenciar-assinaturas'
        ),
        '',
        true
    ),
    'title' => 'Assinatura',
    'label' => 'Assinatura'
);
// ========== FIM MENU ADMISSIBILIDADE ==========
// ========== INICIO MENU Parecer ==========
$arrMenu['parecer'] = array(
    'id' => 'parecer',
    'label' => 'Parecer',
    'title' => 'Ir para Pareceres',
    'menu' => array(),
    'grupo' => array(93, 137),
);
$arrMenu['parecer']['menu'][] = array('label' => 'Gerar Relat&oacute;rios de Parecerista', 'title' => 'Gerar Relat&oacute;rios de Parecerista',
    'url' => $this->url(array('controller' => 'gerarrelatorioparecerista', 'action' => 'aguardandoparecer'), '', true),
    'grupo' => array(93, 137)
);
$arrMenu['parecer']['menu'][] = array('label' => 'Gerenciar Parecerista', 'title' => 'Gerenciar Parecerista',
    'url' => $this->url(array('controller' => 'gerenciarparecer', 'action' => 'enviarpagamento'), '', true),
    'grupo' => array(137)
);
$arrMenu['parecer']['menu'][] = array('label' => 'Listar Selecionados', 'title' => 'Listar Selecionados',
    'url' => $this->url(array('controller' => 'Listareditais', 'action' => 'listarselecionados'), '', true),
    'grupo' => array(114)
);
$arrMenu['parecer']['menu'][] = array('label' => 'Relat&oacute;rio', 'title' => 'Ir para Consultar Parecerista',
    'url' => $this->url(array('controller' => 'consultarpareceristas', 'action' => 'consultardadospareceristas'), '', true),
    'grupo' => array(137)
);

// ========== INICIO MENU PRESTACAO DE CONTAS ==========
include_once(APPLICATION_PATH . '/layouts/scripts/partials/menu/menu-prestacao-contas.phtml');
// ========== FIM MENU PRESTACAO DE CONTAS ==========

// ========== INICIO MENU RELATORIOS ==========
$arrMenu['relatorios'] = array(
    'id' => 'relatorios',
    'label' => 'Relat&oacute;rios',
    'title' => 'Ir para Relat&oacute;rios',
    'menu' => array(),
    'grupo' => array(90, 91, 92, 93, 96, 97, Autenticacao_Model_Grupos::COORDENADOR_ANALISE, 104, 110, 114, 115, Autenticacao_Model_Grupos::PRESIDENTE_CNIC, Autenticacao_Model_Grupos::COORDENADOR_CNIC, 121, 122, 123, 124, 125, 126, Autenticacao_Model_Grupos::COORDENADOR_ATENDIMENTO, Autenticacao_Model_Grupos::TECNICO_PORTARIA, 131, 132, 135, 138, 139, 148, 151),
);
$arrMenu['relatorios']['menu'][] = array(
    'grupo' => array(92, 93, 97, Autenticacao_Model_Grupos::COORDENADOR_ANALISE, 110, 114, 118, Autenticacao_Model_Grupos::PRESIDENTE_CNIC, Autenticacao_Model_Grupos::COORDENADOR_ATENDIMENTO, 131, Autenticacao_Model_Grupos::MEMBROS_NATOS_CNIC),
    'url' => $this->url(array('controller' => 'gerarrelatorios', 'action' => 'index'), '', true),
    'title' => 'Ir para Edital',
    'label' => 'Edital'
);
$arrMenu['relatorios']['menu'][] = array(
    'grupo' => array(90, 91, 92, 93, 96, 97, Autenticacao_Model_Grupos::COORDENADOR_ANALISE, 104, 110, 114, 115, Autenticacao_Model_Grupos::PRESIDENTE_CNIC, Autenticacao_Model_Grupos::COORDENADOR_CNIC, 121, 122, 123, 124, 125, 126, Autenticacao_Model_Grupos::COORDENADOR_ATENDIMENTO, Autenticacao_Model_Grupos::TECNICO_PORTARIA, 131, 132, 135, 138, 139, 148, 151),
    'url' => $this->url(array('controller' => 'relatorio', 'action' => 'index'), '', true),
    'title' => 'Ir para Propostas',
    'label' => 'Propostas'
);
$arrMenu['relatorios']['menu'][] = array(
    'grupo' => array(90, 91, 92, 93, 96, 97, Autenticacao_Model_Grupos::COORDENADOR_ANALISE, 104, 110, 114, 115, Autenticacao_Model_Grupos::PRESIDENTE_CNIC, Autenticacao_Model_Grupos::COORDENADOR_CNIC, 121, 122, 123, 124, 125, 126, Autenticacao_Model_Grupos::COORDENADOR_ATENDIMENTO, Autenticacao_Model_Grupos::TECNICO_PORTARIA, 131, 132, 135, 138, 139, 148, 151),
    'url' => $this->url(array('controller' => 'relatorio', 'action' => 'projeto'), '', true),
    'title' => 'Ir para Projetos',
    'label' => 'Projetos'
);
$arrMenu['relatorios']['menu'][] = array(
    'grupo' => array(90, 91, 92, 93, 96, 97, Autenticacao_Model_Grupos::COORDENADOR_ANALISE, 104, 110, 114, 115, Autenticacao_Model_Grupos::PRESIDENTE_CNIC, Autenticacao_Model_Grupos::COORDENADOR_CNIC, 121, 122, 123, 124, 125, 126, Autenticacao_Model_Grupos::COORDENADOR_ATENDIMENTO, Autenticacao_Model_Grupos::TECNICO_PORTARIA, 131, 132, 135, 138, 139, 148, 151),
    'url' => $this->url(array('controller' => 'operacional', 'action' => 'index'), '', true),
    'title' => 'Ir para Operacional',
    'label' => 'Operacional'
);
$arrMenu['relatorios']['menu'][] = array(
    'grupo' => array(90, 91, 92, 93, 96, 97, Autenticacao_Model_Grupos::COORDENADOR_ANALISE, 104, 110, 114, 115, Autenticacao_Model_Grupos::PRESIDENTE_CNIC, Autenticacao_Model_Grupos::COORDENADOR_CNIC, 121, 122, 123, 124, 125, 126, Autenticacao_Model_Grupos::COORDENADOR_ATENDIMENTO, Autenticacao_Model_Grupos::TECNICO_PORTARIA, 131, 132, 135, 138, 139, 148, 151),
    'url' => $this->url(array('controller' => 'relatorio', 'action' => 'gerencial'), '', true),
    'title' => 'Ir para Gerencial',
    'label' => 'Gerencial'
);
$arrMenu['relatorios']['menu'][] = array(
    'grupo' => array(90, 91, 92, 93, 96, 97, Autenticacao_Model_Grupos::COORDENADOR_ANALISE, 104, 110, 114, 115, Autenticacao_Model_Grupos::PRESIDENTE_CNIC, Autenticacao_Model_Grupos::COORDENADOR_CNIC, 121, 122, 123, 124, 125, 126, Autenticacao_Model_Grupos::COORDENADOR_ATENDIMENTO, Autenticacao_Model_Grupos::TECNICO_PORTARIA, 131, 132, 135, 138, 139, 148, 151),
    'url' => $this->url(array('controller' => 'relatorio', 'action' => 'desembolso'), '', true),
    'title' => 'Ir para Consultar Pontos Culturais',
    'label' => 'Ponto de Cultura'
);
$arrMenu['relatorios']['menu'][] = array(
    'grupo' => array(90, 91, 92, 93, 96, 97, Autenticacao_Model_Grupos::COORDENADOR_ANALISE, 104, 110, 114, 115, Autenticacao_Model_Grupos::PRESIDENTE_CNIC, Autenticacao_Model_Grupos::COORDENADOR_CNIC, 121, 122, 123, 124, 125, 126, Autenticacao_Model_Grupos::COORDENADOR_ATENDIMENTO, Autenticacao_Model_Grupos::TECNICO_PORTARIA, 131, 132, 135, 138, 139, 148, 151),
    'url' => $this->url(array('controller' => 'gerarrelatorioreuniao', 'action' => 'gerarrelatorioreuniao'), '', true),
    'title' => 'Ir para Gerenciar Relat&oacute;rio Reuni&atilde;o',
    'label' => 'Relat&oacute;rio de resultado CNIC'
);
$arrMenu['relatorios']['menu'][] = array(
    'grupo' => array(90, 91, 92, 93, 96, 97, Autenticacao_Model_Grupos::COORDENADOR_ANALISE, 104, 110, 114, 115, Autenticacao_Model_Grupos::PRESIDENTE_CNIC, Autenticacao_Model_Grupos::COORDENADOR_CNIC, 121, 122, 123, 124, 125, 126, Autenticacao_Model_Grupos::COORDENADOR_ATENDIMENTO, Autenticacao_Model_Grupos::TECNICO_PORTARIA, 131, 132, 135, 138, 139, 148, 151),
    'url' => $this->url(array('controller' => 'gerarrelatorioparecerista', 'action' => 'geraldeanalise'), '', true),
    'title' => 'Ir para Relat&oacute;rio geral de an&aacute;lise',
    'label' => 'Relat&oacute;rio geral de an&aacute;lise'
);
$arrMenu['relatorios']['menu'][] = array(
    'grupo' => array(93, 97, Autenticacao_Model_Grupos::COORDENADOR_ATENDIMENTO, 137, 148, 151),
    'url' => $this->url(array('controller' => 'consultarpareceristas', 'action' => 'consultardadospareceristas'), '', true),
    'title' => 'Consultar Dados do Parecerista',
    'label' => 'Consultar Dados do Parecerista'
);
$arrMenu['relatorios']['menu'][] = array(
    'grupo' => array(Autenticacao_Model_Grupos::COORDENADOR_ATENDIMENTO, 137, 148, 151),
    'url' => $this->url(array('controller' => 'gerarrelatorioparecerista', 'action' => 'geraldeanalise'), '', true),
    'title' => 'Gerar Relat&oacute;rio Parecerista',
    'label' => 'Gerar Relat&oacute;rio Parecerista'
);
// ========== FIM MENU RELATORIOS ==========
//
// ========== INICIO MENU EDITAIS ==========
$arrMenu['edital'] = array(
    'id' => 'edital',
    'label' => 'Edital',
    'title' => 'Ir para Edital',
    'menu' => array(),
    'grupo' => array(114, 130),
);
$arrMenu['relatorios']['menu'][] = array(
    'grupo' => array(114),
    'url' => $this->url(array('controller' => 'edital', 'action' => 'index'), '', true),
    'title' => 'Criar Edital',
    'label' => 'Criar Edital'
);
$arrMenu['relatorios']['menu'][] = array(
    'grupo' => array(114, 130),
    'url' => $this->url(array('controller' => 'Listareditais', 'action' => 'listarselecionados'), '', true),
    'title' => 'Ir para Listar Selecionados',
    'label' => 'Listar Selecionados'
);


$arrMenu['solicitacoes'] = array(
    'id' => 'solicitacoes',
    'label' => 'Solicita&ccedil;&otilde;es',
    'title' => 'Ir para Solicitacoes',
    'menu' => array(),
    'grupo' => []
);
$arrMenu['solicitacoes']['menu'][] = [
    'label' => 'Listar Solicita&ccedil;&otilde;es', 'title' => 'Ir para Listar Solicita&ccedil;&otilde;es',
    'url' => $this->url(['module' => 'solicitacao', 'controller' => 'mensagem', 'action' => 'index'], null, true),
    'grupo' => []
];

// ========== INICIO MENU ASSINATURA ==========
//$arrMenu['assinatura'] = array(
//'id' => 'assinatura',
//'label' => 'Assinatura',
//'title' => 'Ir para Assinatura',
//'menu' => array(),
//'grupo' => array(
//147
//,148
//,149
//,150
//,151
//,152
//),
//);

//$arrMenu['assinatura']['menu'][] = array(
//'grupo' => array(
//147
//,148
//,149
//,150
//,151
//,152
//),
//'url' => $this->url(array(
//'module' => 'admissibilidade',
//'controller' => 'enquadramento-assinatura',
//'action' => 'gerenciar-assinaturas'
//), '', true),
//'title' => 'Gerenciar Projetos Enquadrados',
//'label' => 'Gerenciar Projetos Enquadrados'
//);

// ========== FIM MENU EDITAIS ==========
// ========== INICIO MENU MENSAGENS ==========
// @todo verificar depois se tem utilidade este menu, por enquanto foi comentado
//if (isset($this->menumsg))
//{
//    $arrMenu['relatorios'] = array(
//        'id' => 'relatorios',
//        'label' => 'Mensagens',
//        'title' => 'Ir para Mensagens',
//        'menu' => array(),
//        'grupo' => array(92, 93, 94, Autenticacao_Model_Grupos::COORDENADOR_ANALISE, 110, 118, 121, 122, 123, 124, 125, 129, 131, 132),
//    );
//    $arrMenu['relatorios']['menu'][] = array(
//        'grupo' => array(92, 93, 94, Autenticacao_Model_Grupos::COORDENADOR_ANALISE, 110, 118, 121, 122, 123, 124, 125, 129, 131, 132),
//        'url' => "$this->url(array('controller' => 'mantermensagens', 'action' => 'consultarmensagem'), '', true)/idpronac/{$this->idPronac}",
//        'title' => 'Ir para Manter Mensagens',
//        'label' => 'Manter Mensagens'
//    );
//}
// ========== FIM MENU MENSAGENS ==========
// ========== INICIO MENU SEGURANCA ==========
$arrMenu['seguranca'] = array(
    'id' => 'seguranca',
    'label' => 'Seguran&ccedil;a',
    'title' => 'Seguran&ccedil;a',
    'menu' => array(),
    'grupo' => array(),
);
$arrMenu['seguranca']['menu'][] = array(
    'grupo' => array(97),
    'url' => $this->url(array('module' => 'default', 'controller' => 'manterusuario', 'action' => 'gerarsenha')),
    'title' => 'Ir para Regerar Senha',
    'label' => 'Regerar Senha Proponente'
);
$arrMenu['seguranca']['menu'][] = array(
    'grupo' => array(97),
    'url' => $this->url(array('module' => 'default', 'controller' => 'manterusuario', 'action' => 'regerarsenha')),
    'title' => 'Ir para Regerar Senha Usu&aacute;rio',
    'label' => 'Regerar Senha Usu&aacute;rio'
);
$arrMenu['seguranca']['menu'][] = array(
    'grupo' => array(97),
    'url' => $this->url(array('module' => 'default', 'controller' => 'manterusuario', 'action' => 'cadastrarusuarioexterno')),
    'title' => 'Ir para Cadastrar Usu&aacute;rio Externo',
    'label' => 'Cadastrar Usu&aacute;rio Externo'
);
$arrMenu['seguranca']['menu'][] = array(
    'grupo' => array(97),
    'url' => $this->url(array('module' => 'default', 'controller' => 'manterusuario', 'action' => 'permissoessalic')) . '?session=x&pag=1',
    'title' => 'Ir para Permiss&otilde;es do SalicWeb',
    'label' => 'Permiss&otilde;es do SalicWeb'
);
$auth = array_change_key_case((array)Zend_Auth::getInstance()->getIdentity());
if (trim($auth['usu_identificacao']) == 23969156149) {
//    $arrMenu['seguranca']['menu'][] = array(
//        'grupo' => array(97),
//        'url' => $this->url(array('controller' => 'login', 'action' => 'logarcomo')),
//        'title' => 'Ir para Logar Como',
//        'label' => 'Logar Como'
//    );
}
$arrMenu['seguranca']['menu'][] = array(
    'grupo' => array(),
    'url' => $this->url(array('module' => 'autenticacao', 'controller' => 'index', 'action' => 'alterarsenhausuario'), '', true),
    'title' => 'Ir para Alterar Senha',
    'label' => 'Alterar Senha'
);
// ========== FIM MENU SEGURANCA ==========
// ========== INICIO MENU MANUAIS ==========
$arrMenu['manuais'] = array(
    'id' => 'manuais',
    'label' => 'Manuais',
    'title' => 'Ir para Manuais',
    'menu' => array(),
    'grupo' => array(94, 137),
);
$arrMenu['manuais']['menu'][] = array('label' => 'Pagamento Parecerista', 'title' => 'Ir para Pagamento Parecerista',
    'url' => $this->url(array('controller' => 'public', 'action' => 'manuais'), '', true) . '/Manual_Coordenador_Pronac-Pagamento-Parecerista.m4v',
    'grupo' => array(137),
    'target' => '_blank'
);
$arrMenu['manuais']['menu'][] = array('label' => 'Parecerista', 'title' => 'Ir para Parecerista',
    'url' => $this->url(array('controller' => 'public', 'action' => 'manuais'), '', true) . '/Parecerista.m4v',
    'grupo' => array(94),
    'target' => '_blank'
);
$arrMenu['manuais']['menu'][] = array('label' => 'Confirmar Pagamento Parecerista', 'title' => 'Ir para Parecerista - An&aacute;lise',
    'url' => $this->url(array('controller' => 'public', 'action' => 'manuais'), '', true) . '/Manual_do_Parecerista-Confirmar-Pagamento.m4v',
    'grupo' => array(94),
    'target' => '_blank'
);
//     ========== FIM MENU MANUAIS ==========

// Aulas
$arrMenu['aulas'] = array(
    'id' => 'aulas',
    'label' => 'Introdu&ccedil;&atilde;o a an&aacute;lise de projetos',
    'title' => 'Ir para Aulas',
    'menu' => array(),
    'grupo' => array(94, 137),
);
$arrMenu['aulas']['menu'][] = array('label' => '1. Introdu&ccedil;&atilde;o', 'title' => 'Ir para Aula 1',
    'url' => $this->url(array('controller' => 'public', 'action' => 'videos'), '', true) . '/introducao-a-analise-de-projetos/aula1.m4v',
    'grupo' => array(94, 137),
    'target' => '_blank'
);
$arrMenu['aulas']['menu'][] = array('label' => '2. Normativos', 'title' => 'Ir para Aula 2',
    'url' => $this->url(array('controller' => 'public', 'action' => 'videos'), '', true) . '/introducao-a-analise-de-projetos/aula2.m4v',
    'grupo' => array(94, 137),
    'target' => '_blank'
);

$arrMenu['aulas']['menu'][] = array('label' => '3. D&uacute;vidas', 'title' => 'Ir para Aula 3',
    'url' => $this->url(array('controller' => 'public', 'action' => 'videos'), '', true) . '/introducao-a-analise-de-projetos/aula3.m4v',
    'grupo' => array(94, 137),
    'target' => '_blank'
);
$arrMenu['aulas']['menu'][] = array('label' => '4. Abordagem do Projeto', 'title' => 'Ir para Aula 4',
    'url' => $this->url(array('controller' => 'public', 'action' => 'videos'), '', true) . '/introducao-a-analise-de-projetos/aula4.m4v',
    'grupo' => array(94, 137),
    'target' => '_blank'
);
$arrMenu['aulas']['menu'][] = array('label' => '5. Itens Or&ccedil;ament&aacute;rios', 'title' => 'Ir para Aula 5',
    'url' => $this->url(array('controller' => 'public', 'action' => 'videos'), '', true) . '/introducao-a-analise-de-projetos/aula5.m4v',
    'grupo' => array(94, 137),
    'target' => '_blank'
);
$arrMenu['aulas']['menu'][] = array('label' => '6. Intera&ccedil;&otilde;es', 'title' => 'Ir para Aula 6',
    'url' => $this->url(array('controller' => 'public', 'action' => 'videos'), '', true) . '/introducao-a-analise-de-projetos/aula6.m4v',
    'grupo' => array(94, 137),
    'target' => '_blank'
);
$arrMenu['aulas']['menu'][] = array('label' => '7. Como Elaborar Parecer', 'title' => 'Ir para Aula 7',
    'url' => $this->url(array('controller' => 'public', 'action' => 'videos'), '', true) . '/introducao-a-analise-de-projetos/aula7.m4v',
    'grupo' => array(94, 137),
    'target' => '_blank'
);
$arrMenu['aulas']['menu'][] = array('label' => '8. Considera&ccedil;&otilde;es', 'title' => 'Ir para Aula 8',
    'url' => $this->url(array('controller' => 'public', 'action' => 'videos'), '', true) . '/introducao-a-analise-de-projetos/aula8.m4v',
    'grupo' => array(94, 137),
    'target' => '_blank'
);


//$arrMenu['analise']['menu'][] = array('label' => '', 'title' => 'Ir para',
//    'url' => ,
//    'grupo' => array()
//);

//var_dump($arrMenu);
# Filtrando menu conforme o grupo ativo do usuario logado.
if (isset ($auth['cpf'])) {
    $arrMenu = $arrMenuProponente;
} elseif (isset($auth['usu_codigo'])) {
    $arrMenu = array_filter($arrMenu, function ($arrMenu) {
        return (empty($arrMenu['grupo']) || in_array($this->grupoAtivo, $arrMenu['grupo']));
    });

    $arrMenu = array_map(function ($arrMenu) {
        $arrMenu['menu'] = array_filter($arrMenu['menu'], function ($arrMenu2) {
            return (empty($arrMenu2['grupo']) || in_array($this->grupoAtivo, $arrMenu2['grupo']));
        });
        return $arrMenu;
    }, $arrMenu);
} else if (!isset($auth['usu_codigo']) && !isset($auth['cpf'])) {
    $arrMenu = [];
}
?>
<style>
    .nav-wrapper a {
        color: white;
    }

    .side-nav a {
        color: #096;
    }

    #navbar-header.navbar-fixed nav {
        z-index: 1000;
        top: 0;
    }

</style>
<div id="navbar-header">
    <nav class="">
        <div class="nav-wrapper" style="margin: 0 auto; max-width: 1200px">
            <a id="menu-right" href="#" data-activates="nav-mobile" class="button-collapse right"><i
                        class="material-icons">menu</i></a>
            <ul class="left hide-on-med-and-down">
                <?php echo $this->partialLoop('partials/menu/item.phtml', $arrMenu); ?>
            </ul>
            <ul class="menu-apoio right">
                <?php echo $this->partial('partials/menu/notificacao-mensagem.phtml') ?>
                <!--                --><?php //echo $this->partial('partials/menu/notificacoes.phtml') ?>

                <!--                <li><a class="white-text" href="sass.html"><i class="material-icons">power_settings_new</i></a></li>-->
                <!--                <li><a class="white-text" href="mobile.html"><i class="material-icons">more_vert</i></a></li>-->
            </ul>
        </div>
    </nav>
</div>
<aside id="sidebar-right">
    <ul class="side-nav" id="nav-mobile">
        <?php echo $this->partialLoop('partials/menu/item-side-nav.phtml', $arrMenu); ?>
    </ul>

    <script>
        $3(document).ready(function () {
            $3('#menu-right').sideNav({edge: 'right'})
            $3(window).scroll(function () {
                if ($3(window).scrollTop() > '59') {
                    $3('#navbar-header').addClass('navbar-fixed')
                    $3('body').addClass('nav-fixed')
                } else {
                    $3('#navbar-header').removeClass('navbar-fixed')
                    $3('body').removeClass('nav-fixed')
                }

            });

            if ($3(window).scrollTop() > '60') {
                $3('#navbar-header').addClass('navbar-fixed')
                $3('body').addClass('nav-fixed')
            }

            //@todo isso eh temporario, ate a migracao do layout
            if ($3('#sidenav').length && $3('#sidenav').is(':visible')) {

                $3('body').addClass(getCookie('menu'))

                $3('#navbar-header nav').prepend(
                    '<a id="small-menu-button" href="#" class="left hide-on-med-and-down">' +
                    '<i class="material-icons">more_vert</i>' +
                    '</a>' +
                    '<a id="menu-left" href="#" data-activates="sidenav" class="button-collapse left"><i class="material-icons">menu</i></a>'
                );

                $3('#menu-left').sideNav({edge: 'left', menuWidth: 250})
            }

            $3('#small-menu-button').on('click', function () {
                $3(this).find('i').text('more_horiz')
                $3('body').toggleClass('small-menu')

                if ($3('body.small-menu').is(':visible')) {
                    $3(this).find('i').text('more_horiz')
                    setCookie('menu', 'small-menu', 365)
                } else {
                    $3(this).find('i').text('more_vert')
                    setCookie('menu', 'large-menu', 365)
                }

                return false
            });

            // menu legado
            $3('.sanfonaDiv:hidden').each(function (index) {
                if ($3(this).children().length > 0) {
                    $3(this).prev().addClass('submenu')
                }
            });

        });

        function setCookie(cname, cvalue, exdays) {
            var d = new Date()
            d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000))
            var expires = 'expires=' + d.toUTCString()
            document.cookie = cname + '=' + cvalue + ';' + expires + ';path=/'
        }

        function getCookie(cname) {
            var name = cname + '='
            var ca = document.cookie.split(';')
            for (var i = 0; i < ca.length; i++) {
                var c = ca[i]
                while (c.charAt(0) == ' ') {
                    c = c.substring(1)
                }
                if (c.indexOf(name) == 0) {
                    return c.substring(name.length, c.length)
                }
            }
            return ''
        }
    </script>
</aside>
